import React from 'react';
import ReactDOM from 'react-dom';
import Image from 'react-image';
// From: https://github.com/react-component/slider
import Slider, { Range } from 'rc-slider';
import LineChart from 'react-linechart';
import TextareaAutosize from 'react-textarea-autosize';

// Images from Test
import { imagey_1, imagey_2, imagey_3, imagey_4 } from './test/images';

// CSS Stuff 
import './index.css';
import 'rc-slider/assets/index.css';

function pad(num, size) {
    var s = num+"";
    while (s.length < size) s = "0" + s;
    return s;
}

function Square(props) {
    return (
            <button
        className="square"
        onClick={ ()=> props.onClick() }
            >
            {props.value}
        </button>

    );
}

class Results extends React.Component {

    constructor(props) {
        super(props);
        this.state = {
            value: 0,
            valueStr: '',
        };
    }
    
    renderSquare(i) {
    }

    handleClick(i) {
    }

    onSliderChange = (value) => {
        this.setState( {
            value: value,
            valueStr: pad(value,3),
        })
    };

    render() {

        const v = this.state.value;

        const data = [
            {									
                color: "steelblue", 
                points: [
                    {x:1, y: 1.0},
                    {x:2, y: 1.0},
                    {x:3, y: 1.0},
                    {x:4, y: 1.0},
                    {x:5, y: 1.0},
                    {x:6, y: 1.0},
                    {x:7, y: 1.0},
                    {x:8, y: 1.0},
                    {x:9, y: 1.0},
                    {x:10, y: 1.0},
                    {x:11, y: 1.0},
                    {x:12, y: 1.0},
                    {x:13, y: 1.0},
                    {x:14, y: 1.0},
                    {x:15, y: 1.0},
                    {x:16, y: 1.0},
                    {x:17, y: 1.0},
                    {x:18, y: 1.0},
                    {x:19, y: 1.0},
                    {x:20, y: 1.0},
                    {x:21, y: 0.9965720147117567},
                    {x:22, y: 0.9955769718616215},
                    {x:23, y: 0.9936956506047517},
                    {x:24, y: 0.9932984567997499},
                    {x:25, y: 0.9908003818583894},
                    {x:26, y: 0.9902467990363096},
                    {x:27, y: 0.9882718624432578},
                    {x:28, y: 0.9859740091314995},
                    {x:29, y: 0.9843227094422184},
                    {x:30, y: 0.9810342266536903},
                    {x:31, y: 0.9794749524574236},
                    {x:32, y: 0.9783720042977149},
                    {x:33, y: 0.9754188266402968},
                    {x:34, y: 0.9742162504581471},
                    {x:35, y: 0.971327721563825},
                    {x:36, y: 0.9706972098939044},
                    {x:37, y: 0.9693997899475256},
                    {x:38, y: 0.969302739069955},
                    {x:39, y: 0.9689992451129328},
                    {x:40, y: 0.9671480333411712},
                    {x:41, y: 0.9666105566041897},
                    {x:42, y: 0.9647956310605705},
                    {x:43, y: 0.9624431485428205},
                    {x:44, y: 0.9606791379539004},
                    {x:45, y: 0.9593221523905169},
                    {x:46, y: 0.9571523798331136},
                    {x:47, y: 0.9546104274668802},
                    {x:48, y: 0.9525489346747873},
                    {x:49, y: 0.9489551670471208},
                    {x:50, y: 0.8117828337232754},
                    {x:51, y: 0.8117828337232754},
                    {x:52, y: 0.8117828337232754},
                    {x:53, y: 0.8117828337232754},
                    {x:54, y: 0.8117828337232754},
                    {x:55, y: 0.8117828337232754},
                    {x:56, y: 0.8117828337232754},
                    {x:57, y: 0.8117828337232754},
                    {x:58, y: 0.8117828337232754},
                    {x:59, y: 0.8117828337232754},
                    {x:60, y: 0.8117828337232754},
                    {x:61, y: 0.8117828337232754},
                    {x:62, y: 0.8117828337232754},
                    {x:63, y: 0.8117828337232754},
                    {x:64, y: 0.8117828337232754},
                    {x:65, y: 0.811},
                    {x:66, y: 0.811},
                    {x:67, y: 0.811},
                    {x:68, y: 0.811},
                    {x:69, y: 0.811},
                    {x:70, y: 0.811},
                    {x:71 , y: 0.811 },
                    {x:72 , y: 0.811 },
                    {x:73, y: 0.811 },
                    {x:74 , y: 0.811 },
                    {x:75 , y: 0.811 },
                    {x:76, y: 0.811 },
                    {x:77 , y: 0.811 },
                    {x:78 , y: 0.811 },
                    {x:79, y: 0.811 },
                    {x:80 , y: 0.811 },
                    {x:81 , y: 0.811 },
                    {x:82, y: 0.811 },
                    {x:83 , y: 0.811 },
                    {x:84 , y: 0.811 },
                    {x:85, y: 0.811 },
                    {x:86 , y: 0.811 },
                    {x:87 , y: 0.811 },
                    {x:88, y: 0.811 },
                    {x:89 , y: 0.811 },
                    {x:90 , y: 0.811 },
                    {x:91, y: 0.811 },
                    {x:92 , y: 0.811 },
                    {x:93 , y: 0.811 },
                    {x:94, y: 0.811 },
                    {x:95 , y: 0.811 },
                    {x:96 , y: 0.811 },
                    {x:97, y: 0.811 },
                    {x:98 , y: 0.811 },
                    {x:99 , y: 0.811 },
                    {x:100, y: 0.811 },
                ] 
            }
        ];

        const data2 = [
            {									
                color: "steelblue", 
                points: [
                    {x:1 , y:1.0 },
                    {x:2 , y:1.0 },
                    {x:3 , y:1.0 },
                    {x:4 , y:1.0 },
                    {x:5 , y:1.0 },
                    {x:6 , y:1.0 },
                    {x:7 , y:1.0 },
                    {x:8 , y:1.0 },
                    {x:9 , y:1.0 },
                    {x:10 , y:1.0 },
                    {x:11 , y:1.0 },
                    {x:12 , y:1.0 },
                    {x:13 , y:1.0 },
                    {x:14 , y:1.0 },
                    {x:15 , y:1.0 },
                    {x:16 , y:1.0 },
                    {x:17 , y:1.0 },
                    {x:18 , y:1.0 },
                    {x:19 , y:1.0 },
                    {x:20 , y:1.0 },
                    {x:21 , y:0.9997061481602483 },
                    {x:22 , y:0.9995328194912037 },
                    {x:23 , y:0.999494918976782 },
                    {x:24 , y:0.9991563788123385 },
                    {x:25 , y:0.9990175539735316 },
                    {x:26 , y:0.9990144352958386 },
                    {x:27 , y:0.9986435476940049 },
                    {x:28 , y:0.9983500518080328 },
                    {x:29 , y:0.9981931402402338 },
                    {x:30 , y:0.9981163747300352 },
                    {x:31 , y:0.9979749950046355 },
                    {x:32 , y:0.997949100652803 },
                    {x:33 , y:0.9976032487552202 },
                    {x:34 , y:0.9973481564699036 },
                    {x:35 , y:0.9969615065873443 },
                    {x:36 , y:0.9967748337198116 },
                    {x:37 , y:0.9744645908962879 },
                    {x:38 , y:0.9744645908962879 },
                    {x:39 , y:0.9744645908962879 },
                    {x:40 , y:0.9744645908962879 },
                    {x:41 , y:0.9744645908962879 },
                    {x:42 , y:0.9744645908962879 },
                    {x:43 , y:0.9744645908962879 },
                    {x:44 , y:0.9744645908962879 },
                    {x:45 , y:0.9744645908962879 },
                    {x:46 , y:0.9744645908962879 },
                    {x:47 , y:0.9744645908962879 },
                    {x:48 , y:0.9744645908962879 },
                    {x:49 , y:0.9744645908962879 },
                    {x:50 , y:0.9744645908962879 },
                    {x:51 , y:0.9744645908962879 },
                    {x:52 , y:0.9744645908962879 },
                    {x:53 , y:0.9744645908962879 },
                    {x:54 , y:0.9744645908962879 },
                    {x:55 , y:0.9744645908962879 },
                    {x:56 , y:0.9744645908962879 },
                    {x:57 , y:0.9744645908962879 },
                    {x:58 , y:0.9744645908962879 },
                    {x:59 , y:0.9744645908962879 },
                    {x:60 , y:0.9744645908962879 },
                    {x:61 , y:0.9744645908962879 },
                    {x:62 , y:0.9744645908962879 },
                    {x:63 , y:0.9744645908962879 },
                    {x:64 , y:0.9744645908962879 },
                    {x:65 , y:0.9744645908962879 },
                    {x:66 , y:0.9744645908962879 },
                    {x:67 , y:0.9744645908962879 },
                    {x:68 , y:0.9744645908962879 },
                    {x:69 , y:0.9744645908962879 },
                    {x:70 , y:0.9744645908962879 },
                    {x:71 , y:0.9744645908962879 },
                    {x:72 , y:0.9744645908962879 },
                    {x:73 , y:0.9744645908962879 },
                    {x:74 , y:0.9744645908962879 },
                    {x:75 , y:0.9744645908962879 },
                    {x:76 , y:0.9744645908962879 },
                    {x:77 , y:0.9744645908962879 },
                    {x:78 , y:0.9744645908962879 },
                    {x:79 , y:0.9744645908962879 },
                    {x:80 , y:0.9744645908962879 },
                    {x:81 , y:0.9744645908962879 },
                    {x:82 , y:0.9744645908962879 },
                    {x:83 , y:0.9744645908962879 },
                    {x:84 , y:0.9744645908962879 },
                    {x:85 , y:0.9744645908962879 },
                    {x:86 , y:0.9744645908962879 },
                    {x:87 , y:0.9744645908962879 },
                    {x:88 , y:0.9744645908962879 },
                    {x:89 , y:0.9744645908962879 },
                    {x:90 , y:0.9744645908962879 },
                    {x:91 , y:0.9744645908962879 },
                    {x:92 , y:0.9744645908962879 },
                    {x:93 , y:0.9744645908962879 },
                    {x:94 , y:0.9744645908962879 },
                    {x:95 , y:0.9744645908962879 },
                    {x:96 , y:0.9744645908962879 },
                    {x:97 , y:0.9744645908962879 },
                    {x:98 , y:0.9744645908962879 },
                    {x:99 , y:0.9744645908962879 },
                    {x:100, y:0.9744645908962879 },
                ] 
            }
        ];

        const data3 = [
            {									
                color: "steelblue", 
                points: [
                    {x:1 , y:1.0 },
                    {x:2 , y:1.0 },
                    {x:3 , y:1.0 },
                    {x:4 , y:1.0 },
                    {x:5 , y:1.0 },
                    {x:6 , y:1.0 },
                    {x:7 , y:1.0 },
                    {x:8 , y:1.0 },
                    {x:9 , y:1.0 },
                    {x:10 , y:1.0 },
                    {x:11 , y:1.0 },
                    {x:12 , y:1.0 },
                    {x:13 , y:1.0 },
                    {x:14 , y:1.0 },
                    {x:15 , y:1.0 },
                    {x:16 , y:1.0 },
                    {x:17 , y:1.0 },
                    {x:18 , y:1.0 },
                    {x:19 , y:1.0 },
                    {x:20 , y:1.0 },
                    {x:21 , y:0.9676161104395381 },
                    {x:22 , y:0.8282825945627408 },
                    {x:23 , y:0.7111084587036522 },
                    {x:24 , y:0.6552546796924388 },
                    {x:25 , y:0.5388483713675384 },
                    {x:26 , y:0.5331524298739211 },
                    {x:27 , y:0.39017320460308497 },
                    {x:28 , y:0.2695839363090987 },
                    {x:29 , y:0.18563622142985792 },
                    {x:30 , y:0.12810429038829405 },
                    {x:31 , y:0.12810429038829405 },
                    {x:32 , y:0.12810429038829405 },
                    {x:33 , y:0.12810429038829405 },
                    {x:34 , y:0.12810429038829405 },
                    {x:35 , y:0.12810429038829405 },
                    {x:36 , y:0.12810429038829405 },
                    {x:37 , y:0.12810429038829405 },
                    {x:38 , y:0.12810429038829405 },
                    {x:39 , y:0.12810429038829405 },
                    {x:40 , y:0.12810429038829405 },
                    {x:41 , y:0.12810429038829405 },
                    {x:42 , y:0.12810429038829405 },
                    {x:43 , y:0.12810429038829405 },
                    {x:44 , y:0.12810429038829405 },
                    {x:45 , y:0.12810429038829405 },
                    {x:46 , y:0.12810429038829405 },
                    {x:47 , y:0.12810429038829405 },
                    {x:48 , y:0.12810429038829405 },
                    {x:49 , y:0.12810429038829405 },
                    {x:50 , y:0.12810429038829405 },
                    {x:51 , y:0.12810429038829405 },
                    {x:52 , y:0.12810429038829405 },
                    {x:53 , y:0.12810429038829405 },
                    {x:54 , y:0.12810429038829405 },
                    {x:55 , y:0.12810429038829405 },
                    {x:56 , y:0.12810429038829405 },
                    {x:57 , y:0.12810429038829405 },
                    {x:58 , y:0.12810429038829405 },
                    {x:59 , y:0.12810429038829405 },
                    {x:60 , y:0.12810429038829405 },
                    {x:61 , y:0.12810429038829405 },
                    {x:62 , y:0.12810429038829405 },
                    {x:63 , y:0.12810429038829405 },
                    {x:64 , y:0.12810429038829405 },
                    {x:65 , y:0.12810429038829405 },
                    {x:66 , y:0.12810429038829405 },
                    {x:67 , y:0.12810429038829405 },
                    {x:68 , y:0.12810429038829405 },
                    {x:69 , y:0.12810429038829405 },
                    {x:70 , y:0.12810429038829405 },
                    {x:71 , y:0.12810429038829405 },
                    {x:72 , y:0.12810429038829405 },
                    {x:73 , y:0.12810429038829405 },
                    {x:74 , y:0.12810429038829405 },
                    {x:75 , y:0.12810429038829405 },
                    {x:76 , y:0.12810429038829405 },
                    {x:77 , y:0.12810429038829405 },
                    {x:78 , y:0.12810429038829405 },
                    {x:79 , y:0.12810429038829405 },
                    {x:80 , y:0.12810429038829405 },
                    {x:81 , y:0.12810429038829405 },
                    {x:82 , y:0.12810429038829405 },
                    {x:83 , y:0.12810429038829405 },
                    {x:84 , y:0.12810429038829405 },
                    {x:85 , y:0.12810429038829405 },
                    {x:86 , y:0.12810429038829405 },
                    {x:87 , y:0.12810429038829405 },
                    {x:88 , y:0.12810429038829405 },
                    {x:89 , y:0.12810429038829405 },
                    {x:90 , y:0.12810429038829405 },
                    {x:91 , y:0.12810429038829405 },
                    {x:92 , y:0.12810429038829405 },
                    {x:93 , y:0.12810429038829405 },
                    {x:94 , y:0.12810429038829405 },
                    {x:95 , y:0.12810429038829405 },
                    {x:96 , y:0.12810429038829405 },
                    {x:97 , y:0.12810429038829405 },
                    {x:98 , y:0.12810429038829405 },
                    {x:99 , y:0.12810429038829405 },
                    {x:100 , y:0.12810429038829405 },
                ] 
            }
        ];

        const data4 = [
            {									
                color: "steelblue", 
                points: [
                    {x:1 , y:1.0 },
                    {x:2 , y:1.0 },
                    {x:3 , y:1.0 },
                    {x:4 , y:1.0 },
                    {x:5 , y:1.0 },
                    {x:6 , y:1.0 },
                    {x:7 , y:1.0 },
                    {x:8 , y:1.0 },
                    {x:9 , y:1.0 },
                    {x:10 , y:1.0 },
                    {x:11 , y:1.0 },
                    {x:12 , y:1.0 },
                    {x:13 , y:1.0 },
                    {x:14 , y:1.0 },
                    {x:15 , y:1.0 },
                    {x:16 , y:1.0 },
                    {x:17 , y:1.0 },
                    {x:18 , y:1.0 },
                    {x:19 , y:1.0 },
                    {x:20 , y:1.0 },
                    {x:21 , y:0.9136866940074115 },
                    {x:22 , y:0.8058444139110001 },
                    {x:23 , y:0.8058444139110001 },
                    {x:24 , y:0.8058444139110001 },
                    {x:25 , y:0.8058444139110001 },
                    {x:26 , y:0.8058444139110001 },
                    {x:27 , y:0.8058444139110001 },
                    {x:28 , y:0.8058444139110001 },
                    {x:29 , y:0.8058444139110001 },
                    {x:30 , y:0.8058444139110001 },
                    {x:31 , y:0.8058444139110001 },
                    {x:32 , y:0.8058444139110001 },
                    {x:33 , y:0.8058444139110001 },
                    {x:34 , y:0.8058444139110001 },
                    {x:35 , y:0.8058444139110001 },
                    {x:36 , y:0.8058444139110001 },
                    {x:37 , y:0.8058444139110001 },
                    {x:38 , y:0.8058444139110001 },
                    {x:39 , y:0.8058444139110001 },
                    {x:40 , y:0.8058444139110001 },
                    {x:41 , y:0.8058444139110001 },
                    {x:42 , y:0.8058444139110001 },
                    {x:43 , y:0.8058444139110001 },
                    {x:44 , y:0.8058444139110001 },
                    {x:45 , y:0.8058444139110001 },
                    {x:46 , y:0.8058444139110001 },
                    {x:47 , y:0.8058444139110001 },
                    {x:48 , y:0.8058444139110001 },
                    {x:49 , y:0.8058444139110001 },
                    {x:50 , y:0.8058444139110001 },
                    {x:51 , y:0.8058444139110001 },
                    {x:52 , y:0.8058444139110001 },
                    {x:53 , y:0.8058444139110001 },
                    {x:54 , y:0.8058444139110001 },
                    {x:55 , y:0.8058444139110001 },
                    {x:56 , y:0.8058444139110001 },
                    {x:57 , y:0.8058444139110001 },
                    {x:58 , y:0.8058444139110001 },
                    {x:59 , y:0.8058444139110001 },
                    {x:60 , y:0.8058444139110001 },
                    {x:61 , y:0.8058444139110001 },
                    {x:62 , y:0.8058444139110001 },
                    {x:63 , y:0.8058444139110001 },
                    {x:64 , y:0.8058444139110001 },
                    {x:65 , y:0.8058444139110001 },
                    {x:66 , y:0.8058444139110001 },
                    {x:67 , y:0.8058444139110001 },
                    {x:68 , y:0.8058444139110001 },
                    {x:69 , y:0.8058444139110001 },
                    {x:70 , y:0.8058444139110001 },
                    {x:71 , y:0.8058444139110001 },
                    {x:72 , y:0.8058444139110001 },
                    {x:73 , y:0.8058444139110001 },
                    {x:74 , y:0.8058444139110001 },
                    {x:75 , y:0.8058444139110001 },
                    {x:76 , y:0.8058444139110001 },
                    {x:77 , y:0.8058444139110001 },
                    {x:78 , y:0.8058444139110001 },
                    {x:79 , y:0.8058444139110001 },
                    {x:80 , y:0.8058444139110001 },
                    {x:81 , y:0.8058444139110001 },
                    {x:82 , y:0.8058444139110001 },
                    {x:83 , y:0.8058444139110001 },
                    {x:84 , y:0.8058444139110001 },
                    {x:85 , y:0.8058444139110001 },
                    {x:86 , y:0.8058444139110001 },
                    {x:87 , y:0.8058444139110001 },
                    {x:88 , y:0.8058444139110001 },
                    {x:89 , y:0.8058444139110001 },
                    {x:90 , y:0.8058444139110001 },
                    {x:91 , y:0.8058444139110001 },
                    {x:92 , y:0.8058444139110001 },
                    {x:93 , y:0.8058444139110001 },
                    {x:94 , y:0.8058444139110001 },
                    {x:95 , y:0.8058444139110001 },
                    {x:96 , y:0.8058444139110001 },
                    {x:97 , y:0.8058444139110001 },
                    {x:98 , y:0.8058444139110001 },
                    {x:99 , y:0.8058444139110001 },
                    {x:100 , y:0.8058444139110001 },
                ] 
            }
        ];

        return (

                <div>

                <div className="intphys_img">
                <img src={ imagey_1[v] } />
                &nbsp;
                <img src={ imagey_2[v] } />
                &nbsp;
                <img src={ imagey_3[v] } />
                &nbsp;
                <img src={ imagey_4[v] } />
                &nbsp;
            </div>
                <div className="scene_div">
                <div className="sceneinfo">Scene: 1  &nbsp;  Score: 0.74</div>
                <div className="sceneinfo">Scene: 2  &nbsp;  Score: 0.68</div>
                <div className="sceneinfo">Scene: 3  &nbsp;  Score: 0.98</div>
                <div className="sceneinfo">Scene: 4  &nbsp;  Score: 0.22</div>
                </div>
                Frame: {v}
                <div className="slider">
                <Slider
            value={this.state.value}
            onChange={this.onSliderChange} />
                </div>


                <div className="voe_div">
                <div className="voe_chart">
                <LineChart 
            width={250}
            height={200}
            data={data}
            xLabel={"Frame"}
            yLabel={"Plausibility"}
            xMin={"0"}
            xMax={"100"}
            yMin={"0"}
            yMax={"1.0"}
            hidePoints={"true"}
                />
                </div>
                <div className="voe_chart">
                <LineChart 
            width={250}
            height={200}
            data={data2}
            xLabel={"Frame"}
            yLabel={"Plausibility"}
            xMin={"0"}
            xMax={"100"}
            yMin={"0"}
            yMax={"1.0"}
            hidePoints={"true"}
                />
                </div>
                <div className="voe_chart">
                <LineChart 
            width={250}
            height={200}
            data={data3}
            xLabel={"Frame"}
            yLabel={"Plausibility"}
            xMin={"0"}
            xMax={"100"}
            yMin={"0"}
            yMax={"1.0"}
            hidePoints={"true"}
                />
                </div>
                <div className="voe_chart">
                <LineChart 
            width={250}
            height={200}
            data={data4}
            xLabel={"Frame"}
            yLabel={"Plausibility"}
            xMin={"0"}
            xMax={"100"}
            yMin={"0"}
            yMax={"1.0"}
            hidePoints={"true"}
                />
                </div>
                </div>                

                <div className="commentarea">
                <TextareaAutosize
            minRows={4}
            defaultValue="Enter comments here.  Resize for more room"
                />
                </div>

            
            </div>
        );
    }
}


class EvalUI extends React.Component {

    // Assume that we are called with a URL like:
    // http://localhost:3000/app/perf=Bob&subm=ABC&block=O3&test=123
    // Parse that and put it into the state
    constructor(props) {
        super(props);

        this.state = {
            perf: 'TA1-Test',
            subm: 'ABC',
            block: 'O3',
            test: '123',
        };
    }
    
    render() {

        return (
                <div className="layout">

                <div className="header">
                <div className="title">Performer: { this.state.perf }</div>
                <div className="title">Submission: { this.state.subm }</div>
                <div className="title">Block: { this.state.block }</div>
                <div className="title">Test: { this.state.test }</div>
                </div>
                
                <div className="layout-board">
                <Results value={this.state}/>
                </div>

            </div>
        );
    }
}

// ========================================

ReactDOM.render(
        <EvalUI />,
    document.getElementById('root')
);
